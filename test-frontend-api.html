<!DOCTYPE html>
<html>
<head>
    <title>Test Frontend API</title>
</head>
<body>
    <h1>Testing API Response</h1>
    <div id="result"></div>

    <script>
        async function testAPI() {
            try {
                const response = await fetch('http://localhost:8000/api/v1/orders?skip=0&limit=10&order_by=created_at&order_dir=desc');
                const rawData = await response.json();

                console.log('Raw API Response:', rawData);
                console.log('cod_retorno:', rawData.cod_retorno);
                console.log('data field:', rawData.data);
                console.log('items length:', rawData.data?.items?.length);
                console.log('total:', rawData.data?.total);

                document.getElementById('result').innerHTML = `
                    <h2>Raw Response:</h2>
                    <pre>${JSON.stringify(rawData, null, 2)}</pre>
                    <h2>Summary:</h2>
                    <p>Total orders: ${rawData.data?.total}</p>
                    <p>Items in response: ${rawData.data?.items?.length}</p>
                `;
            } catch (error) {
                console.error('Error:', error);
                document.getElementById('result').innerHTML = `<p style="color:red">Error: ${error.message}</p>`;
            }
        }

        testAPI();
    </script>
</body>
</html>
